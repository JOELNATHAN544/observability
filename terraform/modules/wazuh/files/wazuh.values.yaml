global:
  domain: ${dashboard_domain}

fullnameOverride: wazuh

indexer:
  replicas: 2
  persistence:
    size: 100Gi
  keycloak:
    enabled: false
    openid_connect_url: "${openid_connect_url}/.well-known/openid-configuration"

master:
  replicaCount: 1
  persistence:
    size: 50Gi
  resources:
    limits:
      ephemeral-storage: 10Gi
    requests:
      ephemeral-storage: 10Gi

worker:
  replicaCount: 2
  persistence:
    size: 50Gi
  resources:
    limits:
      ephemeral-storage: 10Gi
    requests:
      ephemeral-storage: 10Gi

integration:
  jira:
    enabled: false

extraVolumeConfigs:
  '{{ include "common.names.fullname" $ }}-manager-backup':
    resources:
      requests:
        storage: 10Gi
  snort-alerts:
    resources:
      requests:
        storage: 10Gi
  owasp-zap-alerts:
    resources:
      requests:
        storage: 10Gi

dashboard:
  ingress:
    enabled: true
    host: "${dashboard_domain}"
    className: null
    tls:
      enabled: false
      #useSecret: true
    annotations:
      networking.gke.io/managed-certificates: "${dashboard_certificate_name}"
      kubernetes.io/ingress.global-static-ip-name: "${dashboard_name}"
      #kubernetes.io/ingress.allow-http: "false"
  branding:
    logo:
      defaultUrl: "https://wazuh-assets-bucket.s3.eu-central-1.amazonaws.com/images/favicon-dark.svg"
    mark:
      defaultUrl: "https://wazuh-assets-bucket.s3.eu-central-1.amazonaws.com/images/favicon-dark.svg"
    #   darkModeUrl: ""
    loadingLogo:
      defaultUrl: "https://wazuh-assets-bucket.s3.eu-central-1.amazonaws.com/images/favicon-dark.svg"
    #   darkModeUrl: ""
    faviconUrl: "https://wazuh-assets-bucket.s3.eu-central-1.amazonaws.com/images/favicon-dark.svg"
    applicationTitle: "SIEM"
    useExpandedHeader: false

svcs:
  '{{ include "common.names.fullname" $ }}-ext':
    enabled: true
    loadBalancerIP: "${manager_ip}" 
  '{{ include "common.names.fullname" $ }}-dashboard':
    annotations:
      cloud.google.com/backend-config: '{"ports":{"dashboard":"wazuh-dashboard-backend-config"}}'
      cloud.google.com/app-protocols: '{"dashboard":"HTTPS"}'